List本质是一个数组,初始大小是4 每次扩容容量*2, 设置List的Capacity属性如果比当前数组中元素数量少,则会报错,一致则不处理,超过会新建一个对应容量的数组把旧数组中的元素拷贝过去

创建数组时,数组中的所有元素都会被初始化为默认值,操作数组时,可以使用索引器随意获取值,因为所有值都被认为是有意义的,即便是初始值

使用List时,它的内部维护了一个int字段叫做size,用来标记当前List中有意义的元素的数量,这个字段只会在元素添加和删除时被修改,当通过索引获取元素时,索引应始终小于size,当索引大于或等于size时,会出现错误,无法获得List中的元素,



个人理解的是size代表了当前List会被使用的有意义的元素的数量,在插入时防止有意义的元素被挤掉,因为如果在不扩容的情况下插入,会导致最后一位元素丢失,当size等于数组长度时就代表数组需要扩容了,扩容后再插入可以保证被挤掉的元素是无意义元素;

List的插入使用了Array类的Copy函数,在当前数组中的插入位置开始复制,长度size-index,代表插入点和size中的所有元素的长度,需要把这些元素的长度都往后移一个,移动之前会检测当前容量,如果有效元素填满了数组长度,则会扩容一次

